<!--
  Copyright 2023 The Chromium Authors
  Use of this source code is governed by a BSD-style license that can be
  found in the LICENSE file.
-->
<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <style>
    .hide {
      display: none;
    }
  </style>
</head>
<body>
  <input id="query" type="text">
  <p id="result" class="hide">dissappearing popup</p>
  <input id="next-focus-field">
  <script>
  const query = document.querySelector('#query');
  const result = document.querySelector('#result');
  query.addEventListener('input', ()=> {
    if (document.hasFocus()) {
      result.classList.remove('hide');
    }
  })

  query.addEventListener('focus', ()=> {
    if (document.hasFocus() && query.value) {
      result.classList.remove('hide');
    }
  })

  query.addEventListener('blur', (event) => {
    result.classList.add('hide');
  });

  query.value = 'ta';

    </script>
  </body>
</html>

<!--
  Copyright 2024 The Chromium Authors
  Use of this source code is governed by a BSD-style license that can be
  found in the LICENSE file.
-->
<h1>Memory Panel (Heap profiler) Test</h1>
<script>
  class ObjectRetainedByDetachedDom {}
  class ObjectRetainedByConsole {}
  class ObjectRetainedByBothDetachedDomAndConsole {}
  class ObjectRetainedByEventHandler {}
  const detached = document.createElement('div');
  detached.x = new ObjectRetainedByDetachedDom();
  detached.y = new ObjectRetainedByBothDetachedDomAndConsole();
  console.log(new ObjectRetainedByConsole());
  console.log(detached.y);
  const obj = { duplicatedKey: 'duplicatedValue' };
  const duplicatedStringInstance1 = JSON.stringify(obj);
  const duplicatedStringInstance2 = JSON.stringify(obj);
  obj.nonDuplicatedKey = true;
  const nonDuplicatedStringInstance = JSON.stringify(obj);
  const button = document.createElement('button');
  (() => {
    const eventHandlerObject = new ObjectRetainedByEventHandler();
    button.addEventListener('click', function handleEventForTest() {
      void eventHandlerObject;
    });
  })();
  document.body.appendChild(button);
  button.click();
</script>
